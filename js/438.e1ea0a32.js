"use strict";(self["webpackChunksalix"]=self["webpackChunksalix"]||[]).push([[438,66],{2066:function(e,t,l){l.r(t),l.d(t,{default:function(){return x}});var n=l(3396),o=l(9242),a=l(7139),i=l(8796),r=l(652),s=l(870),u=l(9234),c=l(3289),d=l(8694),m=l(8777),p=l(9370),h=l(917),w=l(9657);const f={class:"dashboard"},_=(0,n._)("div",{id:"dashboard"},null,-1),g=(0,n._)("br",null,null,-1),b=(0,n._)("br",null,null,-1),v=(0,n._)("br",null,null,-1);function y(e,t,l,y,C,k){return(0,n.wg)(),(0,n.iD)("div",f,[_,(0,n.Wm)(w.V,{modelValue:e.drawerMobile,"onUpdate:modelValue":t[2]||(t[2]=t=>e.drawerMobile=t),temporary:"",permanent:k.drawer,onClick:t[3]||(t[3]=t=>e.rail=!1),rail:e.rail&k.drawer},{default:(0,n.w5)((()=>[(0,n.Wm)(m.l,{"prepend-avatar":"https://randomuser.me/api/portraits/men/85.jpg",title:e.user,nav:""},{append:(0,n.w5)((()=>[(0,n.Wm)(s.T,{variant:"text",icon:"mdi-chevron-left",class:"hidden-sm-and-down",onClick:t[0]||(t[0]=(0,o.iM)((t=>e.rail=!e.rail),["stop"]))})])),_:1},8,["title"]),(0,n.Wm)(m.l,{title:"Menú Principal",value:"menuPrincipal","prepend-icon":"mdi-home"}),(0,n.Wm)(p.i,null,{default:(0,n.w5)((()=>[(0,n.Wm)(h.NU,{value:"Management"},{activator:(0,n.w5)((({props:e})=>[(0,n.Wm)(m.l,(0,n.dG)(e,{title:"Gestión","prepend-icon":"mdi-cog-outline"}),null,16)])),default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.clientManagement,(e=>((0,n.wg)(),(0,n.j4)(m.l,{key:e,title:e.title,"prepend-icon":e.icon,value:e.title,to:e.to},null,8,["title","prepend-icon","value","to"])))),128))])),_:1}),(0,n.Wm)(h.NU,{value:"data"},{activator:(0,n.w5)((({props:e})=>[(0,n.Wm)(m.l,(0,n.dG)(e,{title:"Datos Clientes","prepend-icon":"mdi-account-edit"}),null,16)])),default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.customersData,(e=>((0,n.wg)(),(0,n.j4)(m.l,{key:e,title:e.title,"prepend-icon":e.icon,value:e.title},null,8,["title","prepend-icon","value"])))),128))])),_:1}),(0,n.Wm)(h.NU,{value:"billing"},{activator:(0,n.w5)((({props:e})=>[(0,n.Wm)(m.l,(0,n.dG)(e,{title:"Facturas","prepend-icon":"mdi-account-cash"}),null,16)])),default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.billing,(e=>((0,n.wg)(),(0,n.j4)(m.l,{key:e,title:e.title,"prepend-icon":e.icon,value:e.title},null,8,["title","prepend-icon","value"])))),128))])),_:1}),(0,n.Wm)(h.NU,{value:"samples"},{activator:(0,n.w5)((({props:e})=>[(0,n.Wm)(m.l,(0,n.dG)(e,{title:"Análisis","prepend-icon":"mdi-flask"}),null,16)])),default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.samples,(e=>((0,n.wg)(),(0,n.j4)(m.l,{key:e,title:e.title,"prepend-icon":e.icon,value:e.title},null,8,["title","prepend-icon","value"])))),128))])),_:1}),(0,n.Wm)(h.NU,{value:"employee"},{activator:(0,n.w5)((({props:e})=>[(0,n.Wm)(m.l,(0,n.dG)(e,{title:"Empleado","prepend-icon":"mdi-puzzle"}),null,16)])),default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.employee,(e=>((0,n.wg)(),(0,n.j4)(m.l,{key:e,title:e.title,"prepend-icon":e.icon,value:e.title},null,8,["title","prepend-icon","value"])))),128))])),_:1})])),_:1}),(0,n.Wm)(m.l,{title:"Entrar como cliente","prepend-icon":"mdi-account-box",to:"/dashboard"}),(0,n.Wm)(m.l,{title:"Cerrar sesión","prepend-icon":"mdi-exit-to-app",to:"/logout"}),(0,n.Wm)(p.i,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m.l,{title:"Cerrar",value:"0","prepend-icon":"mdi-keyboard-return",onClick:t[1]||(t[1]=(0,o.iM)((t=>e.drawerMobile=!e.drawerMobile),["stop"])),class:"hidden-md-and-up"})])),_:1})])),_:1},8,["modelValue","permanent","rail"]),(0,n.Wm)(i.L,{height:"120px",color:"#f6fcf5","hide-on-scroll":"","scroll-target":"#scrolling-techniques-4"},{default:(0,n.w5)((()=>[(0,n.Wm)(s.T,{class:"hidden-md-and-up",icon:"",onClick:t[4]||(t[4]=(0,o.iM)((t=>e.drawerMobile=!e.drawerMobile),["stop"]))},{default:(0,n.w5)((()=>[(0,n.Wm)(c.t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-menu")])),_:1})])),_:1}),(0,n.Wm)(u.C),(0,n.Wm)(u.C),(0,n.Uk)(" Has accedido como "+(0,a.zw)(e.user)+" ",1),(0,n.Wm)(r.V,{style:{margin:"10px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(d.f,{src:"https://randomuser.me/api/portraits/men/85.jpg"})])),_:1})])),_:1}),g,b,v])}l(7658);var C=l(4311),k={name:"EmployeeComponent",data:()=>({user:"employee",drawerMobile:null,rail:!0,clientManagement:{users:{title:"Usuarios",icon:"mdi-account-box",to:"/employees/users"},client:{title:"Clientes",icon:"mdi-account-circle",to:"/employees/clients"},center:{title:"Centros",icon:"mdi-account-plus",to:"/employees/centers"},enterprise:{title:"Empresas",icon:"mdi-account-star",to:"/employees/enterprises"}},customersData:{contacts:{title:"Contactos",icon:"mdi-account-group",to:""},emails:{title:"Emails",icon:"mdi-email-plus-outline",to:""},phones:{title:"Teléfonos",icon:"mdi-cellphone",to:""},addresses:{title:"Direcciones",icon:"mdi-store",to:""}},billing:{allBills:{title:"Todas las facturas",icon:"mdi-cash",to:""},paidBills:{title:"Facturas pagadas",icon:"mdi-cash-check",to:""},pendingBills:{title:"Facturas pendientes",icon:"mdi-cash-lock",to:""}},samples:{allSamples:{title:"Todas las muestras ",icon:"mdi-flask",to:""},samplesInProcess:{title:"Finalizadas",icon:"mdi-flask-empty",to:""},samplesFinished:{title:"En proceso",icon:"mdi-flask-empty-outline",to:""}},employee:{employeeData:{title:"Datos clientes",icon:"mdi-folder",to:""}}}),computed:{drawer(){return!(window.innerWidth<600)}},mounted(){this.drawerMobile=this.drawer},beforeCreate(){localStorage["token"]||this.$router.push("/login/");const e=this;C.Z.get("/users/current_employee/",{headers:{Authorization:"Token "+localStorage["token"]}}).then((async e=>{let t=e.data[0];this.user=[t["name"],t["last_name"]].join(" ")})).catch((function(t){t&&(e.$router.push("/dashboard/"),localStorage.setItem("token",""))}))}},W=l(89);const D=(0,W.Z)(k,[["render",y]]);var x=D},4438:function(e,t,l){l.r(t),l.d(t,{default:function(){return x}});var n=l(3396);function o(e,t,l,o,a,i){const r=(0,n.up)("EmployeeView"),s=(0,n.up)("ContactListComponent");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r),(0,n.Wm)(s)],64)}var a=l(2066);function i(e,t,l,o,a,i){const r=(0,n.up)("BaseContactTableComponent");return(0,n.wg)(),(0,n.j4)(r,{tableName:"Listado de contactos",items:e.contacts,baseURL:"/employees/contacts/"},null,8,["items"])}var r=l(4311),s=l(7139),u=l(9242),c=l(9752),d=l(6572),m=l(1888),p=l(4413);const h=(0,n._)("thead",{style:{background:"#e7fce3"}},[(0,n._)("tr",null,[(0,n._)("th",{class:"text-left"}," Código "),(0,n._)("th",{class:"text-left"}," Nombre "),(0,n._)("th",null," Emails "),(0,n._)("th",null," Teléfonos "),(0,n._)("th",null," Clientes asociados "),(0,n._)("th",null," Centros asociados "),(0,n._)("th",null," Empresas asociadas ")])],-1),w=["onClick"];function f(e,t,l,o,a,i){return(0,n.wg)(),(0,n.j4)(c._,{class:"client-card"},{default:(0,n.w5)((()=>[(0,n.Wm)(d.E,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(l.tableName),1)])),_:1}),(0,n.Wm)(m.Z,null,{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("input",{type:"text",placeholder:"Filtrar","onUpdate:modelValue":t[0]||(t[0]=e=>a.filter=e)},null,512),[[u.nr,a.filter]])])),_:1}),l.items?((0,n.wg)(),(0,n.j4)(p.Y,{key:0,style:{margin:"10px"}},{default:(0,n.w5)((()=>[h,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.filteredRows,((e,t)=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id,class:(0,s.C_)({"table-light":t%2,"table-dark":(t+1)%2}),onClick:t=>i.pushTo(e.id)},[(0,n._)("td",null,(0,s.zw)(e.id),1),(0,n._)("td",null,(0,s.zw)(e.name),1),(0,n._)("td",null,[(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.email,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.email+e.name},(0,s.zw)(e.name)+": "+(0,s.zw)(e.email),1)))),128))])]),(0,n._)("td",null,[(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.phone_number,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.phone_number+e.name},(0,s.zw)(e.name)+": "+(0,s.zw)(e.phone_number),1)))),128))])]),(0,n._)("td",null,[(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.customer_set,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.code},(0,s.zw)(e.code)+": "+(0,s.zw)(e.name),1)))),128))])]),(0,n._)("td",null,[(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.center_set,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.code},(0,s.zw)(e.code)+": "+(0,s.zw)(e.name),1)))),128))])]),(0,n._)("td",null,[(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.enterprise_set,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.code},(0,s.zw)(e.code)+": "+(0,s.zw)(e.name),1)))),128))])])],10,w)))),128))])])),_:1})):((0,n.wg)(),(0,n.j4)(m.Z,{key:1},{default:(0,n.w5)((()=>[(0,n.Uk)(" No hay datos introducidos. ")])),_:1}))])),_:1})}l(7658);var _={name:"BaseContactTableComponent",data(){return{filter:""}},props:["tableName","items","baseURL"],methods:{pushTo(e){this.$router.push(this.baseURL+e)}},computed:{filteredRows(){return this.items.filter((e=>{let t=this.items,l=Array(),n=Array(),o=Array(),a=Array(),i=Array();for(const h in e.email)l.push(e.email[h].name),l.push(e.email[h].email);for(const h in e.phone_number)n.push(e.phone_number[h].name),n.push(e.phone_number[h].phone_number);for(const h in e.customer_set)o.push(e.customer_set[h].code),o.push(e.customer_set[h].name);for(const h in e.center_set)a.push(e.center_set[h].code),a.push(e.center_set[h].name);for(const h in e.enterprise_set)i.push(e.enterprise_set[h].code),i.push(e.enterprise_set[h].name);const r=e.name.toString().toLowerCase(),s=l.toString().toLowerCase(),u=n.toString().toLowerCase(),c=o.toString().toLowerCase(),d=a.toString().toLowerCase(),m=i.toString().toLowerCase(),p=this.filter.toLowerCase();return 0==p.length?t:r.includes(p)||s.includes(p)||u.includes(p)||c.includes(p)||d.includes(p)||m.includes(p)}))}}},g=l(89);const b=(0,g.Z)(_,[["render",f]]);var v=b,y={components:{BaseContactTableComponent:v},name:"ClientsListComponent",data:()=>({contacts:null}),beforeCreate(){r.Z.get("/users/contacts_endpoint/",{headers:{Authorization:"Token "+localStorage["token"]}}).then((async e=>{const t=await e;this.contacts=t["data"]}))}};const C=(0,g.Z)(y,[["render",i]]);var k=C,W={components:{EmployeeView:a["default"],ContactListComponent:k},name:"CenterListView"};const D=(0,g.Z)(W,[["render",o]]);var x=D},4413:function(e,t,l){l.d(t,{Y:function(){return c}});var n=l(3396),o=l(9694),a=l(1138),i=l(7041),r=l(320),s=l(9888),u=l(131);const c=(0,r.a)({name:"VTable",props:{fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...(0,o.f)(),...(0,a.Q)(),...(0,i.x$)()},setup(e,t){let{slots:l}=t;const{themeClasses:a}=(0,i.ER)(e),{densityClasses:r}=(0,o.t)(e);return(0,s.L)((()=>{var t,o;return(0,n.Wm)(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!l.top,"v-table--has-bottom":!!l.bottom,"v-table--hover":e.hover},a.value,r.value]},{default:()=>[null==(t=l.top)?void 0:t.call(l),l.default&&(0,n.Wm)("div",{class:"v-table__wrapper",style:{height:(0,u.kb)(e.height)}},[(0,n.Wm)("table",null,[l.default()])]),null==(o=l.bottom)?void 0:o.call(l)]})})),{}}})}}]);
//# sourceMappingURL=438.e1ea0a32.js.map