"use strict";(self["webpackChunksalix"]=self["webpackChunksalix"]||[]).push([[737,66],{2066:function(e,l,t){t.r(l),t.d(l,{default:function(){return D}});var a=t(3396),i=t(9242),o=t(7139),n=t(8796),r=t(652),s=t(870),u=t(9234),d=t(3289),m=t(8694),c=t(8777),p=t(9370),h=t(917),w=t(9657);const f={class:"dashboard"},v=(0,a._)("div",{id:"dashboard"},null,-1),W=(0,a._)("br",null,null,-1),g=(0,a._)("br",null,null,-1),b=(0,a._)("br",null,null,-1);function _(e,l,t,_,y,k){return(0,a.wg)(),(0,a.iD)("div",f,[v,(0,a.Wm)(w.V,{modelValue:e.drawerMobile,"onUpdate:modelValue":l[2]||(l[2]=l=>e.drawerMobile=l),temporary:"",permanent:k.drawer,onClick:l[3]||(l[3]=l=>e.rail=!1),rail:e.rail&k.drawer},{default:(0,a.w5)((()=>[(0,a.Wm)(c.l,{"prepend-avatar":"https://randomuser.me/api/portraits/men/85.jpg",title:e.user,nav:""},{append:(0,a.w5)((()=>[(0,a.Wm)(s.T,{variant:"text",icon:"mdi-chevron-left",class:"hidden-sm-and-down",onClick:l[0]||(l[0]=(0,i.iM)((l=>e.rail=!e.rail),["stop"]))})])),_:1},8,["title"]),(0,a.Wm)(c.l,{title:"Menú Principal",value:"menuPrincipal","prepend-icon":"mdi-home"}),(0,a.Wm)(p.i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h.NU,{value:"Management"},{activator:(0,a.w5)((({props:e})=>[(0,a.Wm)(c.l,(0,a.dG)(e,{title:"Gestión","prepend-icon":"mdi-cog-outline"}),null,16)])),default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.clientManagement,(e=>((0,a.wg)(),(0,a.j4)(c.l,{key:e,title:e.title,"prepend-icon":e.icon,value:e.title,to:e.to},null,8,["title","prepend-icon","value","to"])))),128))])),_:1}),(0,a.Wm)(h.NU,{value:"data"},{activator:(0,a.w5)((({props:e})=>[(0,a.Wm)(c.l,(0,a.dG)(e,{title:"Datos Clientes","prepend-icon":"mdi-account-edit"}),null,16)])),default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.customersData,(e=>((0,a.wg)(),(0,a.j4)(c.l,{key:e,title:e.title,"prepend-icon":e.icon,value:e.title},null,8,["title","prepend-icon","value"])))),128))])),_:1}),(0,a.Wm)(h.NU,{value:"billing"},{activator:(0,a.w5)((({props:e})=>[(0,a.Wm)(c.l,(0,a.dG)(e,{title:"Facturas","prepend-icon":"mdi-account-cash"}),null,16)])),default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.billing,(e=>((0,a.wg)(),(0,a.j4)(c.l,{key:e,title:e.title,"prepend-icon":e.icon,value:e.title},null,8,["title","prepend-icon","value"])))),128))])),_:1}),(0,a.Wm)(h.NU,{value:"samples"},{activator:(0,a.w5)((({props:e})=>[(0,a.Wm)(c.l,(0,a.dG)(e,{title:"Análisis","prepend-icon":"mdi-flask"}),null,16)])),default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.samples,(e=>((0,a.wg)(),(0,a.j4)(c.l,{key:e,title:e.title,"prepend-icon":e.icon,value:e.title},null,8,["title","prepend-icon","value"])))),128))])),_:1}),(0,a.Wm)(h.NU,{value:"employee"},{activator:(0,a.w5)((({props:e})=>[(0,a.Wm)(c.l,(0,a.dG)(e,{title:"Empleado","prepend-icon":"mdi-puzzle"}),null,16)])),default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.employee,(e=>((0,a.wg)(),(0,a.j4)(c.l,{key:e,title:e.title,"prepend-icon":e.icon,value:e.title},null,8,["title","prepend-icon","value"])))),128))])),_:1})])),_:1}),(0,a.Wm)(c.l,{title:"Entrar como cliente","prepend-icon":"mdi-account-box",to:"/dashboard"}),(0,a.Wm)(c.l,{title:"Cerrar sesión","prepend-icon":"mdi-exit-to-app",to:"/logout"}),(0,a.Wm)(p.i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c.l,{title:"Cerrar",value:"0","prepend-icon":"mdi-keyboard-return",onClick:l[1]||(l[1]=(0,i.iM)((l=>e.drawerMobile=!e.drawerMobile),["stop"])),class:"hidden-md-and-up"})])),_:1})])),_:1},8,["modelValue","permanent","rail"]),(0,a.Wm)(n.L,{height:"120px",color:"#f6fcf5","hide-on-scroll":"","scroll-target":"#scrolling-techniques-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(s.T,{class:"hidden-md-and-up",icon:"",onClick:l[4]||(l[4]=(0,i.iM)((l=>e.drawerMobile=!e.drawerMobile),["stop"]))},{default:(0,a.w5)((()=>[(0,a.Wm)(d.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-menu")])),_:1})])),_:1}),(0,a.Wm)(u.C),(0,a.Wm)(u.C),(0,a.Uk)(" Has accedido como "+(0,o.zw)(e.user)+" ",1),(0,a.Wm)(r.V,{style:{margin:"10px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m.f,{src:"https://randomuser.me/api/portraits/men/85.jpg"})])),_:1})])),_:1}),W,g,b])}t(7658);var y=t(4311),k={name:"EmployeeComponent",data:()=>({user:"employee",drawerMobile:null,rail:!0,clientManagement:{users:{title:"Usuarios",icon:"mdi-account-box",to:"/employees/users"},client:{title:"Clientes",icon:"mdi-account-circle",to:"/employees/clients"},center:{title:"Centros",icon:"mdi-account-plus",to:"/employees/centers"},enterprise:{title:"Empresas",icon:"mdi-account-star",to:"/employees/enterprises"}},customersData:{contacts:{title:"Contactos",icon:"mdi-account-group",to:""},emails:{title:"Emails",icon:"mdi-email-plus-outline",to:""},phones:{title:"Teléfonos",icon:"mdi-cellphone",to:""},addresses:{title:"Direcciones",icon:"mdi-store",to:""}},billing:{allBills:{title:"Todas las facturas",icon:"mdi-cash",to:""},paidBills:{title:"Facturas pagadas",icon:"mdi-cash-check",to:""},pendingBills:{title:"Facturas pendientes",icon:"mdi-cash-lock",to:""}},samples:{allSamples:{title:"Todas las muestras ",icon:"mdi-flask",to:""},samplesInProcess:{title:"Finalizadas",icon:"mdi-flask-empty",to:""},samplesFinished:{title:"En proceso",icon:"mdi-flask-empty-outline",to:""}},employee:{employeeData:{title:"Datos clientes",icon:"mdi-folder",to:""}}}),computed:{drawer(){return!(window.innerWidth<600)}},mounted(){this.drawerMobile=this.drawer},beforeCreate(){localStorage["token"]||this.$router.push("/login/");const e=this;y.Z.get("/users/current_employee/",{headers:{Authorization:"Token "+localStorage["token"]}}).then((async e=>{let l=e.data[0];this.user=[l["name"],l["last_name"]].join(" ")})).catch((function(l){l&&(e.$router.push("/dashboard/"),localStorage.setItem("token",""))}))}},V=t(89);const C=(0,V.Z)(k,[["render",_]]);var D=C},9737:function(e,l,t){t.r(l),t.d(l,{default:function(){return C}});var a=t(3396);function i(e,l,t,i,o,n){const r=(0,a.up)("EmployeeView"),s=(0,a.up)("UsersCreateUpdate");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),(0,a.Wm)(s)],64)}var o=t(2066),n=t(7139),r=t(9242),s=t(7771),u=t(870),d=t(9752),m=t(1334),c=t(6422),p=t(6824),h=t(3369),w=t(9234),f=t(2719);function v(e,l,t,i,o,v){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(p.o,{class:"justify-center"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.errors,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(s.w,{type:"error",class:"elevation-12 justify-center",style:{"margin-top":"100px","margin-bottom":"-80px"},"max-width":"350px",modelValue:e.correctData,"onUpdate:modelValue":l[0]||(l[0]=l=>e.correctData=l)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(t),1)])),_:2},1032,["modelValue"])])))),128))])),_:1}),(0,a.Wm)(d._,{class:"mx-auto",width:"350"},{default:(0,a.w5)((()=>[(0,a.Wm)(c.O,{modelValue:e.valid,"onUpdate:modelValue":l[7]||(l[7]=l=>e.valid=l),onSubmit:(0,r.iM)(v.submitForm,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(h.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f.hw,{modelValue:e.name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.name=l),rules:e.nameRules,counter:10,label:"Nombre",required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(p.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f.hw,{modelValue:e.lastName,"onUpdate:modelValue":l[2]||(l[2]=l=>e.lastName=l),rules:e.nameRules,counter:10,label:"Apellido",required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(p.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f.hw,{modelValue:e.email,"onUpdate:modelValue":l[3]||(l[3]=l=>e.email=l),rules:e.emailRules,label:"E-mail",required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(p.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f.hw,{modelValue:e.password,"onUpdate:modelValue":l[4]||(l[4]=l=>e.password=l),label:"Nueva Contraseña",type:"password"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(p.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f.hw,{modelValue:e.passwordConfirmation,"onUpdate:modelValue":l[5]||(l[5]=l=>e.passwordConfirmation=l),label:"Repetir contraseña",type:"password"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(m.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w.C),(0,a.Wm)(u.T,{color:"green",type:"submit",onClick:l[6]||(l[6]=e=>v.submitForm())},{default:(0,a.w5)((()=>[(0,a.Uk)("Enviar")])),_:1}),(0,a.Wm)(w.C)])),_:1})])),_:1},8,["modelValue","onSubmit"])])),_:1})],64)}t(7658);var W=t(4311),g={name:"UsersComponent",data:()=>({name:null,lastName:null,email:null,errors:[],correctData:!1}),beforeCreate(){let e="/users/users_endpoint/",l=this.$route.params.id,t=e+l;W.Z.get(t,{headers:{Authorization:"Token "+localStorage["token"]}}).then((e=>{const l=e;let t=l["data"];this.id=t.id,this.name=t.name,this.lastName=t.last_name,this.email=t.email}))},methods:{isAlpha(e){return/^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1]+$/g.test(e)},isEmail(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(.\w{2,3})+$/.test(e)},validPassword(e){return!(e.lenght<8)&&(!!/[A-Z]/.test(e)&&(!!/[a-z]/.test(e)&&!!/[ `!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?~]/.test(e)))},validateInput(){if(this.errors=[],this.name&&this.isAlpha(this.name)||this.errors.push("Debes introducir un nombre válido"),this.last_name&&this.isAlpha(this.last_name)||this.errors.push("Debes introducir un apellido válido"),this.username&&this.isEmail(this.username)||this.errors.push("Debes introducir un correo electrónico válido"),this.password&&this.validPassword(this.password)||this.errors.push("Debes introducir una contraseña válida"),this.password!=this.passwordConfirmation&&this.errors.push("Las contraseñas no coinciden. Por favor, escríbelas de nuevo."),0==this.errors.length)return!0;this.correctData=!0},submitForm(){if(this.validateInput()){const e={name:this.name,last_name:this.last_name,username:this.username,password:this.password,email:this.username};W.Z.post("/api/v1/users/",e).then((e=>{this.$router.push("/dashboard/"),console.log(e.status)}))}}}},b=t(89);const _=(0,b.Z)(g,[["render",v]]);var y=_,k={components:{UsersCreateUpdate:y,EmployeeView:o["default"]},name:"EmployeeUsers"};const V=(0,b.Z)(k,[["render",i]]);var C=V}}]);
//# sourceMappingURL=737.70733178.js.map